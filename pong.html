<DOCTYPE html>
  <html>
    <head>
      <title>My Pong Game</title>

      <script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
    </head>
    <style>
      body { 
        margin: 0; padding: 0; 
      }
    </style>
    <script>
      var context;

      // Gets window size
      var width = $( window ).width();
      var height = $( window ).height();

      // Ball properties
      var radius = 20;
      var x = width/2;
      var y = height/2;
      var dx = 10;
      var dy = 10;

      // User Paddle
      var xPad = 25;
      var yPad = 25;
      var rectWidth = 50;
      var rectHeight = 150;
      
      var speed = 2;
      var amountToMove = 0;

      function init() {
        context= myCanvas.getContext('2d');
        setInterval(draw, 10);

        window.addEventListener('keydown', doKeyDown, true);

        // Sets the width and height to canvas 
        jQuery('#myCanvas').attr('width',width);
        jQuery('#myCanvas').attr('height',height);
         
      }

      function doKeyDown(evt) {
        console.log(evt.keyCode)
        switch(evt.keyCode) {

          case 38:
            amountToMove += 20;
            break;

          case 40:
            amountToMove -= 20;
            break;

        }
        return false;
      }

      function draw() {
        context.clearRect(0, 0, width, height);
        context.beginPath();
        context.fillStyle="#fff";
        // Draws a circle of radius 20 at the coordinates 100,100 on the canvas
        context.arc(x, y, radius, 0, Math.PI*2, true);
        context.closePath();
        context.fill();

        // Draws the paddle 
        context.rect(xPad, yPad, rectWidth, rectHeight);
        context.closePath();
        context.fill();

        // Moves paddle
        if (amountToMove != 0) {
          if (amountToMove > 0) {
            yPad -= speed;
            amountToMove -= speed;
          }

          if (amountToMove < 0) {
            yPad += speed;
            amountToMove += speed;
          }
        }

        // Boundary Logic
        if(x <= 0 + radius || x + radius >= width) {
          dx=-dx;
        }
        if(y <= 0 + radius || y + radius >= height) {
          dy=-dy;
        }
        x+=dx; 
        y+=dy;

      }

    </script>
    
      <body onLoad="init();">
        <canvas id="myCanvas" style="background-color: #000">
        </canvas>
      </body>
      
  </html>
</DOCTYPE>
